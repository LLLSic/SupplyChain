(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["form"],{c37f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 账单\n            ")]),a("el-breadcrumb-item",[e._v("新账单")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"核心企业公钥"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.compAddress,callback:function(t){e.$set(e.form,"compAddress",t)},expression:"form.compAddress"}},e._l(e.coreCompanys,(function(e){return a("el-option",{key:e.address,attrs:{label:e.label,value:e.address}})})),1)],1),a("el-form-item",{attrs:{label:"受理银行公钥"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.bankAddress,callback:function(t){e.$set(e.form,"bankAddress",t)},expression:"form.bankAddress"}},e._l(e.banks,(function(e){return a("el-option",{key:e.address,attrs:{label:e.label,value:e.address}})})),1)],1),a("el-form-item",{attrs:{label:"账款"}},[a("el-input",{model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),a("el-form-item",{attrs:{label:"账款应还日"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"timestamp"},model:{value:e.form.returnTimeStamp,callback:function(t){e.$set(e.form,"returnTimeStamp",t)},expression:"form.returnTimeStamp"}})],1)],1),a("el-form-item",{attrs:{label:"详情（隐秘信息）"}},[a("el-input",{attrs:{rows:"15",type:"textarea"},model:{value:e.form.detail,callback:function(t){e.$set(e.form,"detail",t)},expression:"form.detail"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("表单提交")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},s=[],l=(a("7f7f"),{name:"NewReceipt",data:function(){return{form:{compAddress:"",bankAddress:"",amount:"",returnTimeStamp:"",detail:""},coreCompanys:[],banks:[]}},created:function(){this.getBankAndCC()},methods:{onSubmit:function(){var e=this;this.$http.post("/normal/receipt",this.form).then((function(t){t=t.data,console.log(t),t.success?e.$message.success("提交成功！账单为:"+t.index+"号"):e.$message.error(t.detail)}))},getBankAndCC:function(){var e=this;this.$http.get("/normal/allCorecompanys").then((function(t){try{t=t.data;for(var a=0;a<t.length;a++)t[a].label="".concat(t[a].name,"(").concat(t[a].address,")");e.coreCompanys=t}catch(r){e.$message.error("核心企业获取失败")}})),this.$http.get("/normal/allBanks").then((function(t){try{t=t.data;for(var a=0;a<t.length;a++)t[a].label="".concat(t[a].name,"(").concat(t[a].address,")");e.banks=t}catch(r){e.$message.error("银行信息获取失败")}}))}}}),o=l,n=a("2877"),m=Object(n["a"])(o,r,s,!1,null,null,null);t["default"]=m.exports}}]);